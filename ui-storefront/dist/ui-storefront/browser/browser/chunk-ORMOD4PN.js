import{a as X,b as et}from"./chunk-EJBG4JZO.js";import{j as A,k as D}from"./chunk-2QMXN6IA.js";import"./chunk-6XXA7HXI.js";import{g as W,j as Y,o as G,p as H,q as J,t as K}from"./chunk-DXG57NUO.js";import{d as R,f as $}from"./chunk-6BHGGHL4.js";import{$a as n,Aa as h,Cb as f,Eb as C,Qa as s,Sa as m,Vc as L,Xc as N,Yc as U,Zb as T,Zc as Q,_b as F,_c as Z,a as O,ab as e,b as y,bb as b,bc as q,db as P,dc as V,dd as tt,ea as I,ec as j,gb as v,ib as l,la as u,ma as x,qb as o,rb as _,sb as g,ub as w,va as S,vb as k,wb as E,xa as M,yb as B,za as c,zb as z}from"./chunk-7YDK76WO.js";var nt=()=>[1,2,3,4,5,6,7,8,9,10];function it(i,d){i&1&&(n(0,"div",7)(1,"mat-icon"),o(2,"shopping_cart"),e(),n(3,"h2"),o(4,"Your cart is empty"),e(),n(5,"p"),o(6,"Add items to get started"),e(),n(7,"button",8),o(8," Shop Now "),e()())}function ot(i,d){if(i&1&&(n(0,"p",27),o(1),e()),i&2){let t=l().$implicit;c(),_(t.description)}}function rt(i,d){if(i&1&&(n(0,"option",28),o(1),e()),i&2){let t=d.$implicit;m("value",t),c(),_(t)}}function at(i,d){if(i&1&&(n(0,"p",29),o(1," M.R.P.: "),n(2,"span",30),o(3),f(4,"number"),e()()),i&2){let t=l().$implicit;c(3),g("\u20B9",C(4,1,t.originalPrice,"1.0-0"),"")}}function ct(i,d){if(i&1){let t=P();n(0,"div",13)(1,"div",14),b(2,"img",15),e(),n(3,"div",16)(4,"h3"),o(5),e(),s(6,ot,2,1,"p",17),n(7,"div",18)(8,"mat-icon"),o(9,"check_circle"),e(),o(10," In Stock "),e(),n(11,"div",19)(12,"div",20)(13,"label"),o(14,"Qty:"),e(),n(15,"select",21),E("ngModelChange",function(a){let p=u(t).$implicit;return k(p.quantity,a)||(p.quantity=a),x(a)}),v("change",function(){let a=u(t).$implicit,p=l(2);return x(p.updateQuantity(a))}),s(16,rt,2,2,"option",22),e()(),n(17,"button",23),v("click",function(){let a=u(t).$implicit,p=l(2);return x(p.removeItem(a))}),o(18," Delete "),e(),n(19,"button",23),v("click",function(){let a=u(t).$implicit,p=l(2);return x(p.saveForLater(a))}),o(20," Save for later "),e()()(),n(21,"div",24)(22,"span",25),o(23),f(24,"number"),e(),s(25,at,5,4,"p",26),e()()}if(i&2){let t=d.$implicit;c(2),m("src",t.imageUrl||"https://via.placeholder.com/150",M)("alt",t.name),c(3),_(t.name),c(),m("ngIf",t.description),c(9),w("ngModel",t.quantity),c(),m("ngForOf",z(11,nt)),c(7),g("\u20B9",C(24,8,t.price,"1.0-0"),""),c(2),m("ngIf",t.originalPrice)}}function mt(i,d){if(i&1&&(n(0,"div",9)(1,"div",10)(2,"span"),o(3,"Price"),e()(),s(4,ct,26,12,"div",11),n(5,"div",12)(6,"span"),o(7),e(),n(8,"strong"),o(9),f(10,"number"),e()()()),i&2){let t=l();c(4),m("ngForOf",t.cartItems),c(3),g("Subtotal (",t.getTotalItems()," items):"),c(2),g("\u20B9",C(10,3,t.getSubtotal(),"1.0-0"),"")}}function dt(i,d){i&1&&(n(0,"div",36)(1,"mat-icon"),o(2,"local_shipping"),e(),n(3,"p"),o(4,"Your order qualifies for FREE Delivery!"),e()())}function pt(i,d){if(i&1&&(n(0,"div",31)(1,"mat-card")(2,"div",32),s(3,dt,5,0,"div",33),n(4,"div",34)(5,"span"),o(6),e(),n(7,"strong"),o(8),f(9,"number"),e()(),n(10,"button",35),o(11," Proceed to Checkout "),e()()()()),i&2){let t=l();c(3),m("ngIf",t.getSubtotal()>=499),c(3),g("Subtotal (",t.getTotalItems()," items):"),c(2),g("\u20B9",C(9,3,t.getSubtotal(),"1.0-0"),"")}}function st(i,d){if(i&1){let t=P();n(0,"div",40),b(1,"img",15),n(2,"h4"),o(3),e(),n(4,"div",41)(5,"mat-icon"),o(6,"star"),e(),n(7,"span"),o(8),e()(),n(9,"div",42)(10,"span",25),o(11),f(12,"number"),e()(),n(13,"button",43),v("click",function(){let a=u(t).$implicit,p=l(2);return x(p.addToCart(a))}),o(14," Add to Cart "),e()()}if(i&2){let t=d.$implicit;c(),m("src",t.imageUrl||"https://via.placeholder.com/150",M)("alt",t.name),c(2),_(t.name),c(5),_(t.rating||4.2),c(3),g("\u20B9",C(12,5,t.price,"1.0-0"),"")}}function lt(i,d){if(i&1&&(n(0,"div",37)(1,"h2"),o(2,"Recommended for you"),e(),n(3,"div",38),s(4,st,15,8,"div",39),e()()),i&2){let t=l();c(4),m("ngForOf",t.recommendedProducts)}}var Tt=(()=>{class i{constructor(t,r,a,p){this.cartService=t,this.itemService=r,this.snackBar=a,this.cartItems=[],this.recommendedProducts=[],this.isBrowser=j(p)}ngOnInit(){this.loadCart(),this.loadRecommendations()}loadCart(){if(!this.isBrowser)return;let t=localStorage.getItem("userId")||"guest";this.cartService.getCart(t).subscribe({next:r=>{this.cartItems=r?.items||[]},error:r=>{console.error("Error loading cart:",r),this.cartItems=[]}})}loadRecommendations(){this.itemService.getAllItems().subscribe({next:t=>{this.recommendedProducts=t.slice(0,6).map(r=>y(O({},r),{rating:(Math.random()*2+3).toFixed(1),imageUrl:null}))},error:t=>{console.error("Error loading recommendations:",t)}})}updateQuantity(t){if(!this.isBrowser)return;let r=localStorage.getItem("userId")||"guest";this.cartService.addToCart(r,t.id,t.quantity).subscribe({next:()=>{this.snackBar.open("Quantity updated","Close",{duration:2e3})},error:a=>{console.error("Error updating quantity:",a),this.snackBar.open("Error updating quantity","Close",{duration:3e3})}})}removeItem(t){if(!this.isBrowser)return;let r=localStorage.getItem("userId")||"guest";this.cartService.removeFromCart(r,t.id).subscribe({next:()=>{this.cartItems=this.cartItems.filter(a=>a.id!==t.id),this.snackBar.open("Item removed from cart","Close",{duration:2e3})},error:a=>{console.error("Error removing item:",a),this.snackBar.open("Error removing item","Close",{duration:3e3})}})}saveForLater(t){this.snackBar.open("Saved for later!","Close",{duration:2e3})}addToCart(t){if(!this.isBrowser)return;let r=localStorage.getItem("userId")||"guest";this.cartService.addToCart(r,t.id,1).subscribe({next:()=>{this.snackBar.open("Added to cart!","Close",{duration:2e3})},error:a=>{console.error("Error adding to cart:",a),this.snackBar.open("Error adding to cart","Close",{duration:3e3})}})}getTotalItems(){return this.cartItems.reduce((t,r)=>t+(r.quantity||1),0)}getSubtotal(){return this.cartItems.reduce((t,r)=>t+r.price*(r.quantity||1),0)}static{this.\u0275fac=function(r){return new(r||i)(h(X),h(et),h(A),h(S))}}static{this.\u0275cmp=I({type:i,selectors:[["app-cart"]],standalone:!0,features:[B],decls:9,vars:4,consts:[[1,"cart-container"],[1,"cart-content"],[1,"cart-items-section"],["class","empty-cart",4,"ngIf"],["class","items-list",4,"ngIf"],["class","cart-summary",4,"ngIf"],["class","recommendations",4,"ngIf"],[1,"empty-cart"],["mat-raised-button","","color","primary","routerLink","/products"],[1,"items-list"],[1,"cart-header"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-subtotal"],[1,"cart-item"],[1,"item-image"],[3,"src","alt"],[1,"item-details"],["class","item-desc",4,"ngIf"],[1,"item-status","in-stock"],[1,"item-actions"],[1,"quantity-selector"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["mat-button","",1,"action-btn",3,"click"],[1,"item-price"],[1,"price"],["class","original-price",4,"ngIf"],[1,"item-desc"],[3,"value"],[1,"original-price"],[1,"strikethrough"],[1,"cart-summary"],[1,"summary-content"],["class","free-delivery",4,"ngIf"],[1,"summary-subtotal"],["mat-raised-button","","routerLink","/checkout",1,"checkout-btn"],[1,"free-delivery"],[1,"recommendations"],[1,"products-scroll"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[1,"product-rating"],[1,"product-price"],["mat-button","",1,"add-btn",3,"click"]],template:function(r,a){r&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),o(4,"Shopping Cart"),e(),s(5,it,9,0,"div",3)(6,mt,11,6,"div",4),e(),s(7,pt,12,6,"div",5),e(),s(8,lt,5,1,"div",6),e()),r&2&&(c(5),m("ngIf",a.cartItems.length===0),c(),m("ngIf",a.cartItems.length>0),c(),m("ngIf",a.cartItems.length>0),c(),m("ngIf",a.recommendedProducts.length>0))},dependencies:[V,T,F,q,$,R,K,H,J,G,W,Y,N,L,Q,U,tt,Z,D],styles:[".cart-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:20px;background:#f0f2f2;min-height:calc(100vh - 150px)}.cart-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 300px;gap:20px;margin-bottom:40px}.cart-items-section[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px}.cart-items-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:400;margin:0 0 20px;padding-bottom:12px;border-bottom:1px solid #ddd}.empty-cart[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.empty-cart[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;color:#ccc}.empty-cart[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:20px 0 10px;font-size:24px;font-weight:600}.empty-cart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:24px}.cart-header[_ngcontent-%COMP%]{text-align:right;padding:0 20px 12px 0;color:#565959;font-size:14px;font-weight:600}.items-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.cart-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:180px 1fr auto;gap:20px;padding:20px 0;border-bottom:1px solid #ddd}.item-image[_ngcontent-%COMP%]{width:180px;height:180px;display:flex;align-items:center;justify-content:center;background:#f8f8f8;border-radius:4px}.item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.item-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0;color:#007185;cursor:pointer}.item-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:hover{color:#c7511f}.item-desc[_ngcontent-%COMP%]{color:#565959;font-size:13px;margin:0}.item-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:13px;font-weight:600}.item-status.in-stock[_ngcontent-%COMP%]{color:#007600}.item-status[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-top:8px}.quantity-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:6px 12px;background:#f0f2f2;border-radius:8px}.quantity-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:600}.quantity-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:none;background:#fff;padding:4px 8px;border-radius:4px;cursor:pointer}.action-btn[_ngcontent-%COMP%]{color:#007185!important;font-size:12px!important}.action-btn[_ngcontent-%COMP%]:hover{color:#c7511f!important;text-decoration:underline}.item-price[_ngcontent-%COMP%]{text-align:right;min-width:120px}.price[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#111}.original-price[_ngcontent-%COMP%]{font-size:12px;color:#565959;margin:4px 0 0}.strikethrough[_ngcontent-%COMP%]{text-decoration:line-through}.cart-subtotal[_ngcontent-%COMP%]{text-align:right;padding:20px 20px 0 0;font-size:18px}.cart-subtotal[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#111;font-size:24px;margin-left:8px}.cart-summary[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{padding:20px;position:sticky;top:20px}.free-delivery[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#f0f8ff;padding:12px;border-radius:4px;margin-bottom:16px;color:#007185}.free-delivery[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#007185}.free-delivery[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;font-weight:600}.summary-subtotal[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;font-size:18px}.summary-subtotal[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:24px;color:#111}.checkout-btn[_ngcontent-%COMP%]{width:100%;background:linear-gradient(to bottom,#f7dfa5,#f0c14b)!important;color:#111!important;border:1px solid #a88734!important;height:48px;font-size:14px!important;font-weight:600!important;border-radius:8px!important}.checkout-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#f5d78e,#edb932)!important}.recommendations[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px}.recommendations[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:600;margin:0 0 20px}.products-scroll[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px}.product-card[_ngcontent-%COMP%]{border:1px solid #ddd;padding:12px;border-radius:4px;text-align:center;transition:all .2s;cursor:pointer}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0000001a}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:contain;margin-bottom:12px}.product-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:13px;font-weight:400;margin:0 0 8px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.product-rating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px;margin-bottom:8px}.product-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;color:#ffa41c}.product-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}.product-price[_ngcontent-%COMP%]{margin-bottom:8px}.product-price[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.add-btn[_ngcontent-%COMP%]{width:100%;background:#ffd814!important;color:#111!important;border-radius:8px!important;font-size:13px!important}@media (max-width: 1024px){.cart-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.cart-summary[_ngcontent-%COMP%]{position:static}}@media (max-width: 768px){.cart-item[_ngcontent-%COMP%]{grid-template-columns:100px 1fr;gap:12px}.item-price[_ngcontent-%COMP%]{grid-column:2;text-align:left;margin-top:8px}.item-image[_ngcontent-%COMP%]{width:100px;height:100px}.products-scroll[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}}"]})}}return i})();export{Tt as CartComponent};
